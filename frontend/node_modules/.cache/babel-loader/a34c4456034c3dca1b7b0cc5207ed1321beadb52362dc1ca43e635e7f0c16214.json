{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oneco\\\\Documents\\\\Software-Development\\\\Extended Course\\\\milestone3\\\\milestone3\\\\frontend\\\\src\\\\users\\\\Login.js\",\n  _s = $RefreshSig$();\nimport '../App.css';\nimport { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { CurrentUserContext } from '../contexts/CurrentUser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setCurrentUser\n  } = useContext(CurrentUserContext);\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: ''\n  });\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const response = await fetch(`http://localhost:5000/authentication/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    });\n    const data = await response.json();\n    if (response.status === 200) {\n      localStorage.setItem('token', data.token);\n      setCurrentUser(data.user);\n      navigate(`/`);\n    } else {\n      navigate('/login');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"LoginContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          className: \"form-style\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            name: \"email\",\n            value: credentials.email,\n            onChange: e => setCredentials({\n              ...credentials,\n              email: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            name: \"password\",\n            value: credentials.password,\n            onChange: e => setCredentials({\n              ...credentials,\n              password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Login\",\n            className: \"submit-button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"+U3Ir2jfSnPjnsLzQB1m6lA34v4=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useContext","useState","useNavigate","CurrentUserContext","Login","navigate","setCurrentUser","credentials","setCredentials","email","password","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","status","localStorage","setItem","token","user","target","value"],"sources":["C:/Users/oneco/Documents/Software-Development/Extended Course/milestone3/milestone3/frontend/src/users/Login.js"],"sourcesContent":["import '../App.css';\r\nimport { useContext, useState } from \"react\"\r\nimport { useNavigate } from \"react-router\"\r\nimport { CurrentUserContext } from '../contexts/CurrentUser'\r\n\r\n\r\n\r\nfunction Login() {\r\n    const navigate = useNavigate();\r\n    const { setCurrentUser } = useContext(CurrentUserContext)\r\n    const [credentials, setCredentials] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const response = await fetch(`http://localhost:5000/authentication/`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(credentials)\r\n        });\r\n        const data = await response.json();\r\n        if (response.status === 200) {\r\n            localStorage.setItem('token', data.token);\r\n            setCurrentUser(data.user);\r\n            navigate(`/`);\r\n        } else {\r\n            navigate('/login');\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className='container'>\r\n    <div className=\"LoginContainer\">\r\n      <div className=\"form-container\">\r\n      <form onSubmit={this.handleSubmit} className=\"form-style\">\r\n        <label htmlFor=\"email\">Email:</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          value={credentials.email}\r\n          onChange={e => setCredentials({ ...credentials, email: e.target.value })}\r\n        />\r\n        <br />\r\n        <br />\r\n        <label htmlFor=\"password\">Password:</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={credentials.password}\r\n          onChange={e => setCredentials({ ...credentials, password: e.target.value })}\r\n        />\r\n        <br />\r\n        <br />\r\n        <input type=\"submit\" value=\"Login\" className=\"submit-button\" />\r\n      </form>\r\n    </div>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n\r\n"],"mappings":";;AAAA,OAAO,YAAY;AACnB,SAASA,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,cAAc;AAC1C,SAASC,kBAAkB,QAAQ,yBAAyB;AAAA;AAI5D,SAASC,KAAK,GAAG;EAAA;EACb,MAAMC,QAAQ,GAAGH,WAAW,EAAE;EAC9B,MAAM;IAAEI;EAAe,CAAC,GAAGN,UAAU,CAACG,kBAAkB,CAAC;EACzD,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC;IAC3CQ,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACd,CAAC,CAAC;EAEF,eAAeC,YAAY,CAACC,CAAC,EAAE;IAC3BA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,uCAAsC,EAAE;MAClEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACb,WAAW;IACpC,CAAC,CAAC;IACF,MAAMc,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;IAClC,IAAIR,QAAQ,CAACS,MAAM,KAAK,GAAG,EAAE;MACzBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,KAAK,CAAC;MACzCpB,cAAc,CAACe,IAAI,CAACM,IAAI,CAAC;MACzBtB,QAAQ,CAAE,GAAE,CAAC;IACjB,CAAC,MAAM;MACHA,QAAQ,CAAC,QAAQ,CAAC;IACtB;EACJ;EAEF,oBACE;IAAK,SAAS,EAAC,WAAW;IAAA,uBAC1B;MAAK,SAAS,EAAC,gBAAgB;MAAA,uBAC7B;QAAK,SAAS,EAAC,gBAAgB;QAAA,uBAC/B;UAAM,QAAQ,EAAE,IAAI,CAACM,YAAa;UAAC,SAAS,EAAC,YAAY;UAAA,wBACvD;YAAO,OAAO,EAAC,OAAO;YAAA,UAAC;UAAM;YAAA;YAAA;YAAA;UAAA,QAAQ,eACrC;YACE,IAAI,EAAC,OAAO;YACZ,EAAE,EAAC,OAAO;YACV,IAAI,EAAC,OAAO;YACZ,KAAK,EAAEJ,WAAW,CAACE,KAAM;YACzB,QAAQ,EAAEG,CAAC,IAAIJ,cAAc,CAAC;cAAE,GAAGD,WAAW;cAAEE,KAAK,EAAEG,CAAC,CAACgB,MAAM,CAACC;YAAM,CAAC;UAAE;YAAA;YAAA;YAAA;UAAA,QACzE,eACF;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAO,OAAO,EAAC,UAAU;YAAA,UAAC;UAAS;YAAA;YAAA;YAAA;UAAA,QAAQ,eAC3C;YACE,IAAI,EAAC,UAAU;YACf,EAAE,EAAC,UAAU;YACb,IAAI,EAAC,UAAU;YACf,KAAK,EAAEtB,WAAW,CAACG,QAAS;YAC5B,QAAQ,EAAEE,CAAC,IAAIJ,cAAc,CAAC;cAAE,GAAGD,WAAW;cAAEG,QAAQ,EAAEE,CAAC,CAACgB,MAAM,CAACC;YAAM,CAAC;UAAE;YAAA;YAAA;YAAA;UAAA,QAC5E,eACF;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAO,IAAI,EAAC,QAAQ;YAAC,KAAK,EAAC,OAAO;YAAC,SAAS,EAAC;UAAe;YAAA;YAAA;YAAA;UAAA,QAAG;QAAA;UAAA;UAAA;UAAA;QAAA;MAC1D;QAAA;QAAA;QAAA;MAAA;IACH;MAAA;MAAA;MAAA;IAAA;EACA;IAAA;IAAA;IAAA;EAAA,QACA;AAEV;AAAC,GA1DQzB,KAAK;EAAA,QACOF,WAAW;AAAA;AAAA,KADvBE,KAAK;AA4Dd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}